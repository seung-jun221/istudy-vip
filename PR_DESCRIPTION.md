# feat: 캠페인 시스템 마이그레이션

## 변경사항

### 데이터베이스 구조 변경
- `seminars` 단일 테이블 → `campaigns` + `seminar_slots` 구조로 변경
- 지역별 별도 캠페인 관리 가능
- 시즌별 추적 가능 (2025 가을 등)

### 주요 업데이트

**Backend (Database):**
- ✅ SQL 마이그레이션 실행 완료
- ✅ 기존 데이터 모두 보존 (237건 예약)
- ✅ 예약 수 정확하게 반영 (광교 1건)
- ✅ CASCADE 설정으로 데이터 무결성 보장

**Frontend (Code):**
- ✅ AdminContext: campaigns 기반 CRUD 구현
- ✅ ReservationContext: seminar_slots 조회
- ✅ ConsultingContext: active campaigns 필터링
- ✅ 모든 컴포넌트 호환성 유지

### 버그 수정
- ✅ 종료된 캠페인이 컨설팅 예약에 노출되던 문제 해결
- ✅ 지역명 매칭 오류 수정
- ✅ 진단검사 일정 미리보기 추가 (설명회 예약자 + 비예약자)
- ✅ 자동 취소된 예약이 목록에 보이던 문제 해결

### 테스트 필요 항목

**Admin 페이지:**
- [ ] 캠페인 비밀번호로 로그인
- [ ] 캠페인 목록 조회 (활성 3개: 대치/광교/분당)
- [ ] 캠페인 상세 페이지
- [ ] 설명회 참석자 목록
- [ ] 컨설팅 예약 목록

**설명회 예약:**
- [ ] 활성 설명회 목록 표시
- [ ] 새 예약 생성
- [ ] 예약 확인/취소

**컨설팅 예약:**
- [ ] 설명회 예약자 로그인
- [ ] 종료된 캠페인 미노출 확인
- [ ] 진단검사 일정 미리보기 표시
- [ ] 비예약자 신규 예약

**데이터 일관성:**
- [ ] 기존 예약 데이터 정상 조회
- [ ] 예약 수 정확성 (광교 1건, 분당 0건, 대치 0건)
- [ ] 취소된 예약 미표시

### 롤백 가능 여부
✅ 문제 발생 시 `migration_to_campaign_system_v2.sql` 롤백 스크립트로 복구 가능

🤖 Generated with [Claude Code](https://claude.com/claude-code)
